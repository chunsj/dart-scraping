# DART 공시파일 .HTML로 입수
## 개요
FSS는 오픈API(https://opendart.fss.or.kr/intro/main.do) 에서 Macro Data를 제공하고 있다. 


여기서 제시하는 여러 코드는 FSS 제공 Data의 범위(종류, 기간)를 벗어난 정보가 필요할 때 사용한다.
예를 들면 외부감사실시내역 상 감사시간이나 사업보고서 감사에 관한 사항에 제시되는 감사보수 정보 등의 입수가 필요할 때가 그렇다.

## 코드 종류
### Disclosure-to-HTML (Python 3)

#### 코드: scraper
DART 공시파일 중, 예를 들면, 사업보고서는 다음과 같은 깊이가 3인 문서 계층 구조를 사용하고 있다.


- 사업보고서
    - 대표이사의 확인 (*)
    - ... 
- 감사보고서
    - 독립된 감사인의 감사보고서 (*)
    - (첨부)재무제표 (*)
        - 재무상태표
        - 손익계산서
        - ...
    - ...

코드는 특정일에 공시된 사업보고서 전체를 하나의 HTML로 입수하지 않는다.
가장 큰 이유는 모든 계층의 문서가 자신만의 주소를 갖고 있어 서버 요청이 전체 단위가 아니라는 점에 있다.
그렇지만 이 코드가 가장 깊은 단계까지 내려가서 HTML을 긁어오는 것은 아니다. 
정보가 중복되기도 하지만, 예외에 취약한 정규표현식으로 주소를 찾아야한다는 것을 고려하였다.


결국 입수와 후처리의 용이성을 고려하여 위 예시의 * 부분을 개별 단위로 입수한다.


#### 사용방법

#### 입수파일명
파일명은 입수 자료와 회사의 정보로 구성되어 있다. 아래에 예시 파일과 파일명에 포함된 정보를 설명하는 표를 작성하였다.


> A001_2019.12.31_대동고려삼_[기재정정]사업보고서_(2019.06)_2019.12.31 [정정] 사업보고서_I.회사의개요_178600_코넥스시장_110111-2481044_기타 식료품 제조업_2002-03-26_06월_.html



<표>
예시 | 설명
--- | ---
A001 | 보고서 타입
2019.12.31 | 공시자료 접수일
대동고려삼 | 회사명
[기재정정]사업보고서 | 공시단위
(2019.06) | 공시자료 회계기간 종료월
2019.12. 31 [정정] 사업보고서 | 공시자료 문서명
I.회사의 개요 | 입수단위
178600 | 종목코드
코넥스시장 | 시장구분
110111-2481044 | 법인등록번호
기타 식료품 제조업 | 업종명
2002-03-26 | 설립일
06월 | 결산월


## 입수 데이터
아래 표에 위의 코드를 활용하여 입수한 Data를 다운로드 할 수 있는 구글 드라이브 링크가 포함되어 있다.
DART 공시자료의 특성상 정정공시가 될 때 정정전 공시가 포함된다.
이로 인하여 입수기간에 따라 중복정보가 입수될 수 있다.
중복 입수의 경우 위의 파일명에서 입수 단위의 고유키를 조합(예: 법인등록번호+공시일+보고서명)할 수 있으니 중복은 제거 가능하다.

<표>
공시기간 | 입수기간 | A001 사업보고서 | A002 반기보고서 | A003 분기보고서 | F001 감사보고서 | F002 연결보고서 | F004 회계법인보고서
:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:
2020 | - | - | - | - | - | - | -
2019 | 2020.8.7-| - | - | - | - | - | [ㅁ](https://bit.ly/3gCDk55)


